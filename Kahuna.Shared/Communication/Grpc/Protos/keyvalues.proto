syntax = "proto3";

service KeyValuer {
  rpc TrySetKeyValue (GrpcTrySetKeyValueRequest) returns (GrpcTrySetKeyValueResponse);
  rpc TryExtendKeyValue (GrpcTryExtendKeyValueRequest) returns (GrpcTryExtendKeyValueResponse);
  rpc TryDeleteKeyValue (GrpcTryDeleteKeyValueRequest) returns (GrpcTryDeleteKeyValueResponse);
  rpc TryGetKeyValue (GrpcTryGetKeyValueRequest) returns (GrpcTryGetKeyValueResponse);
  rpc TryExistsKeyValue (GrpcTryExistsKeyValueRequest) returns (GrpcTryExistsKeyValueResponse);
  rpc TryExecuteTransactionScript (GrpcTryExecuteTransactionScriptRequest) returns (GrpcTryExecuteTransactionScriptResponse);
  rpc TryAcquireExclusiveLock (GrpcTryAcquireExclusiveLockRequest) returns (GrpcTryAcquireExclusiveLockResponse);
  rpc TryAcquireManyExclusiveLocks (GrpcTryAcquireManyExclusiveLocksRequest) returns (GrpcTryAcquireManyExclusiveLocksResponse);
  rpc TryReleaseExclusiveLock (GrpcTryReleaseExclusiveLockRequest) returns (GrpcTryReleaseExclusiveLockResponse);
  rpc TryReleaseManyExclusiveLocks (GrpcTryReleaseManyExclusiveLocksRequest) returns (GrpcTryReleaseManyExclusiveLocksResponse);
  rpc TryPrepareMutations (GrpcTryPrepareMutationsRequest) returns (GrpcTryPrepareMutationsResponse);
  rpc TryPrepareManyMutations (GrpcTryPrepareManyMutationsRequest) returns (GrpcTryPrepareManyMutationsResponse);
  rpc TryCommitMutations (GrpcTryCommitMutationsRequest) returns (GrpcTryCommitMutationsResponse);
  rpc TryCommitManyMutations (GrpcTryCommitManyMutationsRequest) returns (GrpcTryCommitManyMutationsResponse);
  rpc TryRollbackMutations (GrpcTryRollbackMutationsRequest) returns (GrpcTryRollbackMutationsResponse);
  rpc TryRollbackManyMutations (GrpcTryRollbackManyMutationsRequest) returns (GrpcTryRollbackManyMutationsResponse);
  rpc ScanByPrefix (GrpcScanByPrefixRequest) returns (GrpcScanByPrefixResponse);
  rpc ScanAllByPrefix (GrpcScanAllByPrefixRequest) returns (GrpcScanAllByPrefixResponse);
  rpc GetByPrefix (GrpcGetByPrefixRequest) returns (GrpcGetByPrefixResponse);
  rpc StartTransaction (GrpcStartTransactionRequest) returns (GrpcStartTransactionResponse);
  rpc CommitTransaction (GrpcCommitTransactionRequest) returns (GrpcCommitTransactionResponse);
  rpc RollbackTransaction (GrpcRollbackTransactionRequest) returns (GrpcRollbackTransactionResponse);
  rpc BatchClientKeyValueRequests (stream GrpcBatchClientKeyValueRequest) returns (stream GrpcBatchClientKeyValueResponse);
  rpc BatchServerKeyValueRequests (stream GrpcBatchServerKeyValueRequest) returns (stream GrpcBatchServerKeyValueResponse);
}

message GrpcTrySetKeyValueRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  string Key = 4;
  optional bytes Value = 5;
  optional bytes CompareValue = 6;
  int64 CompareRevision = 7;
  GrpcKeyValueFlags Flags = 8;
  int32 ExpiresMs = 9;
  GrpcKeyValueDurability Durability = 10;
}

message GrpcTrySetKeyValueResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
  int64 Revision = 3;
  int32 LastModifiedNode = 4;
  int64 LastModifiedPhysical = 5;
  uint32 LastModifiedCounter = 6;
  int32 TimeElapsedMs = 7;
}

message GrpcTryExtendKeyValueRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  string Key = 4;
  int32 ExpiresMs = 5;
  GrpcKeyValueDurability Durability = 6;
}

message GrpcTryExtendKeyValueResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
  int64 Revision = 3;
  int32 LastModifiedNode = 4;
  int64 LastModifiedPhysical = 5;
  uint32 LastModifiedCounter = 6;
  int32 TimeElapsedMs = 7;
}

message GrpcTryDeleteKeyValueRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  string Key = 4;
  GrpcKeyValueDurability Durability = 5;
}

message GrpcTryDeleteKeyValueResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
  int64 Revision = 3;
  int32 LastModifiedNode = 4;
  int64 LastModifiedPhysical = 5;
  uint32 LastModifiedCounter = 6;
  int32 TimeElapsedMs = 7;
}

message GrpcTryGetKeyValueRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  string Key = 4;
  int64 Revision = 5;
  GrpcKeyValueDurability Durability = 6;
}

message GrpcTryGetKeyValueResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
  optional bytes Value = 3;
  int64 Revision = 4;
  int32 ExpiresNode = 5;
  int64 ExpiresPhysical = 6;
  uint32 ExpiresCounter = 7;
  int32 LastUsedNode = 8;
  int64 LastUsedPhysical = 9;
  uint32 LastUsedCounter = 10;
  int32 LastModifiedNode = 11;
  int64 LastModifiedPhysical = 12;
  uint32 LastModifiedCounter = 13;
  GrpcKeyValueState State = 14;
  int32 TimeElapsedMs = 15;
}

message GrpcTryExistsKeyValueRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  string Key = 4;
  int64 Revision = 5;
  GrpcKeyValueDurability Durability = 6;
}

message GrpcTryExistsKeyValueResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
  int64 Revision = 3;
  int32 ExpiresNode = 4;
  int64 ExpiresPhysical = 5;
  uint32 ExpiresCounter = 6;
  int32 LastUsedNode = 7;
  int64 LastUsedPhysical = 8;
  uint32 LastUsedCounter = 9;
  int32 LastModifiedNode = 10;
  int64 LastModifiedPhysical = 11;
  uint32 LastModifiedCounter = 12;
  GrpcKeyValueState State = 13;
  int32 TimeElapsedMs = 14;
}

message GrpcTryExecuteTransactionScriptRequest {
  optional string Hash = 1;
  bytes Script = 2;
  repeated GrpcKeyValueParameter Parameters = 3;
}

message GrpcKeyValueParameter {
  string Key = 1;
  optional string Value = 2;
}

message GrpcTryExecuteTransactionScriptResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2; 
  optional string Reason = 3;
  repeated GrpcTryExecuteTransactionResponseValue Values = 4;
  int32 TimeElapsedMs = 5;
}

message GrpcTryExecuteTransactionResponseValue {
  string Key = 1;
  optional bytes Value = 2;
  int64 Revision = 3;
  int32 ExpiresNode = 4;
  int64 ExpiresPhysical = 5;
  uint32 ExpiresCounter = 6;
  int32 LastModifiedNode = 7;
  int64 LastModifiedPhysical = 8;
  uint32 LastModifiedCounter = 9;
}

message GrpcTryAcquireExclusiveLockRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  string Key = 4;
  int32 ExpiresMs = 5;
  GrpcKeyValueDurability Durability = 6;
}

message GrpcTryAcquireExclusiveLockResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
}

message GrpcTryAcquireManyExclusiveLocksRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  repeated GrpcTryAcquireManyExclusiveLocksRequestItem Items = 4;
}

message GrpcTryAcquireManyExclusiveLocksResponse {
  optional string ServedFrom = 1;
  repeated GrpcTryAcquireManyExclusiveLocksResponseItem Items = 2;
}

message GrpcTryAcquireManyExclusiveLocksRequestItem {
  string Key = 1;
  int32 ExpiresMs = 2;
  GrpcKeyValueDurability Durability = 3;
}

message GrpcTryAcquireManyExclusiveLocksResponseItem {
  GrpcKeyValueResponseType Type = 1;
  string Key = 2;
  GrpcKeyValueDurability Durability = 3;
}

message GrpcTryReleaseManyExclusiveLocksRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  repeated GrpcTryReleaseManyExclusiveLocksRequestItem Items = 4;
}

message GrpcTryReleaseManyExclusiveLocksResponse {
  optional string ServedFrom = 1;
  repeated GrpcTryReleaseManyExclusiveLocksResponseItem Items = 2;
}

message GrpcTryReleaseManyExclusiveLocksRequestItem {
  string Key = 1;
  GrpcKeyValueDurability Durability = 2;
}

message GrpcTryReleaseManyExclusiveLocksResponseItem {
  GrpcKeyValueResponseType Type = 1;
  string Key = 2;
  GrpcKeyValueDurability Durability = 3;
}

message GrpcTryReleaseExclusiveLockRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  string Key = 4;
  GrpcKeyValueDurability Durability = 5;
}

message GrpcTryReleaseExclusiveLockResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
}

message GrpcTryPrepareMutationsRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  int32 CommitIdNode = 4;
  int64 CommitIdPhysical = 5;
  uint32 CommitIdCounter = 6;
  string Key = 7;
  GrpcKeyValueDurability Durability = 8;
}

message GrpcTryPrepareMutationsResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
  int32 ProposalTicketNode = 3;
  int64 ProposalTicketPhysical = 4;
  uint32 ProposalTicketCounter = 5;
}

message GrpcTryPrepareManyMutationsRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  int32 CommitIdNode = 4;
  int64 CommitIdPhysical = 5;
  uint32 CommitIdCounter = 6;
  repeated GrpcTryPrepareManyMutationsRequestItem Items = 7;
}

message GrpcTryPrepareManyMutationsRequestItem {
  string Key = 1;
  GrpcKeyValueDurability Durability = 2;
}

message GrpcTryPrepareManyMutationsResponse {
  optional string ServedFrom = 1;
  repeated GrpcTryPrepareManyMutationsResponseItem Items = 3;
}

message GrpcTryPrepareManyMutationsResponseItem {
  GrpcKeyValueResponseType Type = 1;
  string Key = 2;
  GrpcKeyValueDurability Durability = 3;
  int32 ProposalTicketNode = 4;
  int64 ProposalTicketPhysical = 5;
  uint32 ProposalTicketCounter = 6;
}

message GrpcTryCommitMutationsRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  string Key = 4;
  int32 ProposalTicketNode = 5;
  int64 ProposalTicketPhysical = 6;
  uint32 ProposalTicketCounter = 7;
  GrpcKeyValueDurability Durability = 8;
}

message GrpcTryCommitMutationsResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
  int64 ProposalIndex = 3;
}

message GrpcTryCommitManyMutationsRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  repeated GrpcTryCommitManyMutationsRequestItem Items = 4;
}

message GrpcTryCommitManyMutationsRequestItem {
  string Key = 1;
  int32 ProposalTicketNode = 2;
  int64 ProposalTicketPhysical = 3;
  uint32 ProposalTicketCounter = 4;
  GrpcKeyValueDurability Durability = 5;
}

message GrpcTryCommitManyMutationsResponse {
  optional string ServedFrom = 1;
  repeated GrpcTryCommitManyMutationsResponseItem Items = 3;
}

message GrpcTryCommitManyMutationsResponseItem {
  GrpcKeyValueResponseType Type = 1;
  string Key = 2;
  GrpcKeyValueDurability Durability = 3;
  int64 ProposalIndex = 4;
}

message GrpcTryRollbackMutationsRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  string Key = 4;
  int32 ProposalTicketNode = 5;
  int64 ProposalTicketPhysical = 6;
  uint32 ProposalTicketCounter = 7;
  GrpcKeyValueDurability Durability = 8;
}

message GrpcTryRollbackMutationsResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
  int64 ProposalIndex = 3;
}

message GrpcTryRollbackManyMutationsRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  repeated GrpcTryRollbackManyMutationsRequestItem Items = 4;
}

message GrpcTryRollbackManyMutationsRequestItem {
  string Key = 1;
  int32 ProposalTicketNode = 2;
  int64 ProposalTicketPhysical = 3;
  uint32 ProposalTicketCounter = 4;
  GrpcKeyValueDurability Durability = 5;
}

message GrpcTryRollbackManyMutationsResponse {
  optional string ServedFrom = 1;
  repeated GrpcTryRollbackManyMutationsResponseItem Items = 3;
}

message GrpcTryRollbackManyMutationsResponseItem {
  GrpcKeyValueResponseType Type = 1;
  string Key = 2;
  GrpcKeyValueDurability Durability = 3;
  int64 ProposalIndex = 4;
}

message GrpcScanByPrefixRequest {
  string PrefixKey = 1;
  GrpcKeyValueDurability Durability = 2;
}

message GrpcScanByPrefixResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
  repeated GrpcKeyValueByPrefixItemResponse Items = 3;
}

message GrpcGetByPrefixRequest {
  int32 TransactionIdNode = 1;
  int64 TransactionIdPhysical = 2;
  uint32 TransactionIdCounter = 3;
  string PrefixKey = 4;
  GrpcKeyValueDurability Durability = 5;
}

message GrpcGetByPrefixResponse {
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
  repeated GrpcKeyValueByPrefixItemResponse Items = 3;
}

message GrpcScanAllByPrefixRequest {
  string PrefixKey = 1;
  GrpcKeyValueDurability Durability = 2;
}

message GrpcScanAllByPrefixResponse {
  GrpcKeyValueResponseType Type = 1;
  repeated GrpcKeyValueByPrefixItemResponse Items = 2;
}

message GrpcStartTransactionRequest
{
  string UniqueId = 1;
  GrpcLockingType LockingType = 2;
  int32 Timeout = 3;
  bool AsyncRelease = 4;
  bool AutoCommit = 5;
}

message GrpcStartTransactionResponse
{
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;
  int32 TransactionIdNode = 3;
  int64 TransactionIdPhysical = 4;
  uint32 TransactionIdCounter = 5;
}

message GrpcCommitTransactionRequest
{
  string UniqueId = 1;
  int32 TransactionIdNode = 2;
  int64 TransactionIdPhysical = 3;
  uint32 TransactionIdCounter = 4;
  repeated GrpcTransactionModifiedKey AcquiredLocks = 5;
  repeated GrpcTransactionModifiedKey ModifiedKeys = 6;
}

message GrpcRollbackTransactionRequest
{
  string UniqueId = 1;
  int32 TransactionIdNode = 2;
  int64 TransactionIdPhysical = 3;
  uint32 TransactionIdCounter = 4;
  repeated GrpcTransactionModifiedKey AcquiredLocks = 5;
  repeated GrpcTransactionModifiedKey ModifiedKeys = 6;
}

message GrpcTransactionModifiedKey
{
  string Key = 1;
  GrpcKeyValueDurability Durability = 2;
}

message GrpcCommitTransactionResponse
{
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;  
}

message GrpcRollbackTransactionResponse
{
  optional string ServedFrom = 1;
  GrpcKeyValueResponseType Type = 2;  
}

message GrpcKeyValueByPrefixItemResponse {
  string Key = 1;
  optional bytes Value = 2;
  int64 Revision = 3;
  int32 ExpiresNode = 4;
  int64 ExpiresPhysical = 5;
  uint32 ExpiresCounter = 6;
  int32 LastUsedNode = 7;
  int64 LastUsedPhysical = 8;
  uint32 LastUsedCounter = 9;
  int32 LastModifiedNode = 10;
  int64 LastModifiedPhysical = 11;
  uint32 LastModifiedCounter = 12;
  GrpcKeyValueState State = 13;
}

message GrpcBatchClientKeyValueRequest {
  GrpcClientBatchType Type = 1;
  int32 RequestId = 2;
  oneof payload {
    GrpcTrySetKeyValueRequest TrySetKeyValue = 3;
    GrpcTryGetKeyValueRequest TryGetKeyValue = 4;
    GrpcTryDeleteKeyValueRequest TryDeleteKeyValue = 5;
    GrpcTryExtendKeyValueRequest TryExtendKeyValue = 6;
    GrpcTryExistsKeyValueRequest TryExistsKeyValue = 7;
    GrpcTryExecuteTransactionScriptRequest TryExecuteTransactionScript = 8;
    GrpcTryAcquireExclusiveLockRequest TryAcquireExclusiveLock = 9;
    GrpcGetByPrefixRequest GetByPrefix = 10;
    GrpcScanAllByPrefixRequest ScanByPrefix = 11;    
    GrpcStartTransactionRequest StartTransaction = 12;
    GrpcCommitTransactionRequest CommitTransaction = 13;
    GrpcRollbackTransactionRequest RollbackTransaction = 14;
  }
}

message GrpcBatchClientKeyValueResponse
{
  GrpcClientBatchType Type = 1;
  int32 RequestId = 2;
  oneof payload {
    GrpcTrySetKeyValueResponse TrySetKeyValue = 3;
    GrpcTryGetKeyValueResponse TryGetKeyValue = 4;
    GrpcTryDeleteKeyValueResponse TryDeleteKeyValue = 5;
    GrpcTryExtendKeyValueResponse TryExtendKeyValue = 6;
    GrpcTryExistsKeyValueResponse TryExistsKeyValue = 7;
    GrpcTryExecuteTransactionScriptResponse TryExecuteTransactionScript = 8;
    GrpcTryAcquireExclusiveLockResponse TryAcquireExclusiveLock = 9;
    GrpcGetByPrefixResponse GetByPrefix = 10;
    GrpcScanAllByPrefixResponse ScanByPrefix = 11;    
    GrpcStartTransactionResponse StartTransaction = 12;
    GrpcCommitTransactionResponse CommitTransaction = 13;
    GrpcRollbackTransactionResponse RollbackTransaction = 14;
  }
}

message GrpcBatchServerKeyValueRequest {
  GrpcServerBatchType Type = 1;
  int32 RequestId = 2;
  oneof payload {
    GrpcTrySetKeyValueRequest TrySetKeyValue = 3;
    GrpcTryGetKeyValueRequest TryGetKeyValue = 4;
    GrpcTryDeleteKeyValueRequest TryDeleteKeyValue = 5;
    GrpcTryExtendKeyValueRequest TryExtendKeyValue = 6;
    GrpcTryExistsKeyValueRequest TryExistsKeyValue = 7;
    GrpcTryExecuteTransactionScriptRequest TryExecuteTransactionScript = 8;
    GrpcTryAcquireExclusiveLockRequest TryAcquireExclusiveLock = 9;    
    GrpcTryAcquireManyExclusiveLocksRequest TryAcquireManyExclusiveLocks = 10;
    GrpcTryReleaseExclusiveLockRequest TryReleaseExclusiveLock = 11;
    GrpcTryReleaseManyExclusiveLocksRequest TryReleaseManyExclusiveLocks = 12;
    GrpcTryPrepareMutationsRequest TryPrepareMutations = 13;
    GrpcTryPrepareManyMutationsRequest TryPrepareManyMutations = 14;
    GrpcTryCommitMutationsRequest TryCommitMutations = 15;
    GrpcTryCommitManyMutationsRequest TryCommitManyMutations = 16;
    GrpcTryRollbackMutationsRequest TryRollbackMutations = 17;
    GrpcTryRollbackManyMutationsRequest TryRollbackManyMutations = 18;
    GrpcGetByPrefixRequest GetByPrefix = 19;
    GrpcScanByPrefixRequest ScanByPrefix = 20;
    GrpcStartTransactionRequest StartTransaction = 21;
    GrpcCommitTransactionRequest CommitTransaction = 22;
    GrpcRollbackTransactionRequest RollbackTransaction = 23;
  }
}

message GrpcBatchServerKeyValueResponse
{
  GrpcServerBatchType Type = 1;
  int32 RequestId = 2;
  oneof payload {
    GrpcTrySetKeyValueResponse TrySetKeyValue = 3;
    GrpcTryGetKeyValueResponse TryGetKeyValue = 4;
    GrpcTryDeleteKeyValueResponse TryDeleteKeyValue = 5;
    GrpcTryExtendKeyValueResponse TryExtendKeyValue = 6;
    GrpcTryExistsKeyValueResponse TryExistsKeyValue = 7;
    GrpcTryExecuteTransactionScriptResponse TryExecuteTransactionScript = 8;
    GrpcTryAcquireExclusiveLockResponse TryAcquireExclusiveLock = 9;
    GrpcTryAcquireManyExclusiveLocksResponse TryAcquireManyExclusiveLocks = 10;
    GrpcTryReleaseExclusiveLockResponse TryReleaseExclusiveLock = 11;
    GrpcTryReleaseManyExclusiveLocksResponse TryReleaseManyExclusiveLocks = 12;
    GrpcTryPrepareMutationsResponse TryPrepareMutations = 13;
    GrpcTryPrepareManyMutationsResponse TryPrepareManyMutations = 14;
    GrpcTryCommitMutationsResponse TryCommitMutations = 15;
    GrpcTryCommitManyMutationsResponse TryCommitManyMutations = 16;
    GrpcTryRollbackMutationsResponse TryRollbackMutations = 17;
    GrpcTryRollbackManyMutationsResponse TryRollbackManyMutations = 18;
    GrpcGetByPrefixResponse GetByPrefix = 19;
    GrpcScanByPrefixResponse ScanByPrefix = 20;
    GrpcStartTransactionResponse StartTransaction = 21;
    GrpcCommitTransactionResponse CommitTransaction = 22;
    GrpcRollbackTransactionResponse RollbackTransaction = 23;
  }
}

enum GrpcClientBatchType {
  TYPE_NONE = 0;
  TRY_SET_KEY_VALUE = 1;
  TRY_EXTEND_KEY_VALUE = 2;
  TRY_DELETE_KEY_VALUE = 3;
  TRY_GET_KEY_VALUE = 4;
  TRY_EXISTS_KEY_VALUE = 5;
  TRY_EXECUTE_TRANSACTION_SCRIPT = 6;  
  TRY_ACQUIRE_EXCLUSIVE_LOCK = 7;
  TRY_GET_BY_PREFIX = 8;
  TRY_SCAN_BY_PREFIX = 9;
  TRY_START_TRANSACTION = 10;
  TRY_COMMIT_TRANSACTION = 11;
  TRY_ROLLBACK_TRANSACTION = 12;
}

enum GrpcServerBatchType {
  SERVER_TYPE_NONE = 0;
  SERVER_TRY_SET_KEY_VALUE = 1;
  SERVER_TRY_EXTEND_KEY_VALUE = 2;
  SERVER_TRY_DELETE_KEY_VALUE = 3;
  SERVER_TRY_GET_KEY_VALUE = 4;
  SERVER_TRY_EXISTS_KEY_VALUE = 5;
  SERVER_TRY_EXECUTE_TRANSACTION_SCRIPT = 6; 
  SERVER_TRY_ACQUIRE_EXCLUSIVE_LOCK = 7;
  SERVER_TRY_ACQUIRE_MANY_EXCLUSIVE_LOCKS = 8;
  SERVER_TRY_RELEASE_EXCLUSIVE_LOCK = 9;
  SERVER_TRY_RELEASE_MANY_EXCLUSIVE_LOCKS = 10;
  SERVER_TRY_PREPARE_MUTATIONS = 11;
  SERVER_TRY_PREPARE_MANY_MUTATIONS = 12;
  SERVER_TRY_COMMIT_MUTATIONS = 13;
  SERVER_TRY_COMMIT_MANY_MUTATIONS = 14;
  SERVER_TRY_ROLLBACK_MUTATIONS = 15;
  SERVER_TRY_ROLLBACK_MANY_MUTATIONS = 16;
  SERVER_TRY_GET_BY_PREFIX = 17;
  SERVER_TRY_SCAN_BY_PREFIX = 18;
  SERVER_TRY_START_TRANSACTION = 19;
  SERVER_TRY_COMMIT_TRANSACTION = 20;
  SERVER_TRY_ROLLBACK_TRANSACTION = 21;
}

enum GrpcKeyValueFlags {
  NONE = 0;
  SET = 1;
  SET_IF_EXISTS = 2;
  SET_IF_NOT_EXISTS = 3;
  SET_IF_EQUAL_TO_VALUE = 4;
  SET_IF_EQUAL_TO_REVISION = 5;
}

enum GrpcKeyValueResponseType {
  TYPE_SET = 0;
  TYPE_NOTSET = 1;
  TYPE_EXTENDED = 2;
  TYPE_GOT = 3;
  TYPE_DELETED = 4;
  TYPE_LOCKED = 5;
  TYPE_UNLOCKED = 6;
  TYPE_PROPOSED = 7;
  TYPE_COMMITTED = 8;
  TYPE_ROLLEDBACK = 9;
  TYPE_EXISTS = 10;
  TYPE_ERRORED = 99;
  TYPE_INVALID_INPUT = 100;
  TYPE_MUST_RETRY = 101;
  TYPE_ABORTED = 102;
  TYPE_DOES_NOT_EXIST = 103;
  TYPE_ALREADY_LOCKED = 104;
}

enum GrpcKeyValueDurability {
  EPHEMERAL = 0;
  PERSISTENT = 1;
}

enum GrpcKeyValueState {
  STATE_UNDEFINED = 0;
  STATE_SET= 1;
  STATE_DELETED = 2;
}

enum GrpcLockingType {
  LOCKING_TYPE_PESSIMISTIC = 0;
  LOCKING_TYPE_OPTIMISTIC = 1;
}